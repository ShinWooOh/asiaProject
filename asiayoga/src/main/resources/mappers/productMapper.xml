<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.company.asiayoga.mapper.productMapper">

	<select id="productList" parameterType="productVO" resultType="productVO">
		/* productMapper.productList */
		SELECT
			@ROWNUM:=@ROWNUM+1 AS row_num,
			prtinfo.product_seq,
			prtinfo.store_code,
			prtinfo.product_name,
			prtinfo.product_code,
			prtinfo.product_term,
			prtinfo.product_count,
			prtinfo.del_yn,
			prtinfo.register_date,
			prtinfo.register_id,
			prtinfo.modify_date,
			prtinfo.modify_id,
            stinfo.store_name
		FROM PRODUCTINFO prtinfo
	    INNER JOIN STOREINFO stinfo 
        ON prtinfo.store_code = stinfo.store_seq
        INNER JOIN (SELECT @ROWNUM :=0) AS R
		WHERE prtinfo.store_code = #{storeCode}
		AND	prtinfo.del_yn = 'N'
		ORDER BY row_num DESC
	</select>


</mapper>
